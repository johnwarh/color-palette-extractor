<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Create color palette with Javascript" />
    <meta name="keywords" content="JavaScript, Color spaces, Color palette, Color quantization" />
    <meta name="author" content="Zygimantas Sniurevicius with mods and additions by John Warhus" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color palette extractor</title>
    <link rel='shortcut icon' href='../images/favicon.ico' />
    <link rel="stylesheet" href="./custom.css" />
</head>
<body>
    <div class="container-fluid mw-95" id="container">
        <section>
            <h3 class="text-uppercase text-center mt-2">Color palette extractor</h3>
            <form id="form" class="form-border rounded mb-3 p-2" action="#">
                <div class="row p-2">
                    <div class="col-auto">
                        <label for="imgfile" class='form-label fs-6'>  
                            Select image file
                        </label>
                        <input id="imgfile" class="form-control"
                               type="file" value="Select file" />
                    </div>
                    <div class="col-auto">
                        <label for='colors' class='form-label fs-6'>
                            Select # of palette colors
                        </label>
                        <select id='colors' name='colors' class='form-select'>
                            <option value=3>8, min</option>
                            <option value=4>16</option>
                            <option value=5>32</option>
                            <option value=6>64</option>
                            <option value=7>128</option>
                            <option value=8>256, max.</option>
                        </select>
                    </div>
                    <div class="col-auto">
                        <input id="btnLoad" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Load File" accept=".jpg,.jpeg"  />
                        <input id="btnReset" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Reset Page" />
                    </div>
                </div>
            </form>
            <div class="text-center mb-3">
                <h3>Selected image</h3>
                <canvas id="canvas"></canvas>
            </div>
            <form id="form1" class="form-border rounded mb-3 p-2">
                <div class="row p-2">
                    <div id="bkgd_color_control" class="col-auto">
                        <label for='bkgd_color' class="form-label d-block my-2 fs-6">
                            Palette Background Color: &nbsp;
                            <span id="p_bkgd" class="fs-6"></span>
                        </label>
                        <span class="label me-2 mb-1 fs-6 ">black</span>
                        <input id="bkgd_color" type="range" class="form-range"
                               min="0" max="255" />
                        <span class="label ms-2 mb-1 fs-6">white</span>
                    </div>
                    <div class="col-auto">
                        <input id='bkdg_color_reset' type="reset"
                               class="form-control btn jwa-btn m-3"
                               value="Reset Background Color" />
                    </div>
                    <div class="col-auto">
                        <input id="hide_caps" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Show / Hide Palette Text" />
                    </div>
                </div>
            </form>
            <hr />
            <div class="text-center"><!--color palette swatches-->
                <h4>Image color palette (sorted by lightness)</h4>
                <div id="palette" class="row mx-1 p-3 rounded"></div>
            </div>
            <hr />
            <div class="text-center"><!--complementary palette swatches-->
                <h4>Complementary color palette (sorted by lightness)</h4>
                <div id="complementary" class="row mx-1 p-3 rounded ms-0"></div>
            </div>
            <hr />
            <footer class="mt-5 mb-5 text-center">
                <span id="footer">&copy;John Warhus 2023</span>
            </footer>
        </section>
    </div>
    <script type="text/javascript" src="mccq.js"></script>
    <script type="text/javascript" src="bkgd_controls.js"></script>
    <script type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
            crossorigin="anonymous"></script>
</body>
</html>